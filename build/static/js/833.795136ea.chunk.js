"use strict";(self.webpackChunkspeechtranscription=self.webpackChunkspeechtranscription||[]).push([[833],{428:(e,t,n)=>{n.r(t),n.d(t,{default:()=>U});var o=n(5043),a=n(6446),i=n(5865),r=n(3947),l=n(6391),s=n(1906),d=n(8494),c=n(9285),h=n(7642),g=n(2110),x=n(6494),p=n(7121),u=n(579);const A=e=>{let{data:t,load:n,refresh:a,hold:i,download:r}=e;const[l,A]=(0,o.useState)(!0),[m,f]=(0,o.useState)(""),[y,w]=(0,o.useState)(!1),[b,j]=(0,o.useState)(0),v=(0,o.useRef)(null),I=(0,o.useRef)(null);(0,o.useEffect)((()=>{console.log(t,"malli",n,a)}),[n,t]),(0,o.useEffect)((()=>{console.log(a,"refresh"),0!==a&&(A(!0),f(null))}),[a]),(0,o.useEffect)((()=>{if(!t)return;w(!0),f(""),A(!1);let e=0;const n=()=>{if(e<t.length){f((n=>n+t[e])),j(e/t.length*100),e++;let o=10;const a=t[e-1];[".","!","?",":"].includes(a)?o=300:[",",";"].includes(a)?o=150:"\n"===a&&(o=200),setTimeout(n,o)}else w(!1),A(!1),i()};n()}),[t]),(0,o.useEffect)((()=>{I.current&&I.current.scrollIntoView({behavior:"smooth"})}),[m]);return l?(0,u.jsxs)(h.A,{sx:{width:600,mx:"auto",mt:4},children:[(0,u.jsx)(p.A,{width:300,height:20,color:"grey"}),(0,u.jsx)(p.A,{width:350,height:20,animation:"wave"}),(0,u.jsx)(p.A,{width:400,height:20,animation:!1}),(0,u.jsx)(p.A,{width:300,height:20,animation:"wave"}),(0,u.jsx)(p.A,{width:400,height:20,animation:!1})]}):(0,u.jsx)("div",{className:"flex flex-col items-center p-4 pb-6 max-w-4xl mx-auto",children:(0,u.jsxs)("div",{ref:v,className:"bg-white rounded-lg shadow-md border border-gray-200 p-6 min-h-[400px] max-h-[80vh] overflow-y-auto w-full",style:{textAlign:"left",fontFamily:"Arial, sans-serif"},children:[(0,u.jsxs)(g.A,{sx:{margin:"20px",marginTop:"40px",borderRadius:"20px",position:"relative"},children:[(0,u.jsx)(x.A,{children:(0,u.jsx)(d.o,{children:m,remarkPlugins:[c.A],components:{}})}),!y&&(0,u.jsx)(x.A,{children:(0,u.jsx)(s.A,{sx:{textAlign:"right",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},variant:"contained",onClick:e=>{r()},children:"Download Report"})})]}),y&&(0,u.jsx)("span",{className:"inline-block w-2 h-4 ml-1 bg-blue-500 animate-pulse"}),(0,u.jsx)("div",{ref:I})]})})};var m=n(4327),f=n(4802),y=n(2954);var w=n(2664),b=n(3336),j=n(7843),v=n(8903),I=n(7392),S=n(1485),C=n(1503);const k=e=>{let{handleData:t,load:n,handleClear:r,singlePage:d}=e;const[c,g]=(0,o.useState)([]),[p,A]=(0,o.useState)(!1),[k,E]=(0,o.useState)(!1),[R,D]=(0,o.useState)(""),[B,P]=(0,o.useState)(""),[z,F]=(0,o.useState)(null);console.log(d,"sizesizev"),(0,o.useEffect)((()=>{t(c)}),[c,t]);const L=async e=>{const t=e.target.value.trim();if(P(t),t){if(!(e=>e.match(/\.(jpeg|jpg|png)$/i))(t))return D("Invalid image URL. Only JPG, JPEG, and PNG formats are supported."),void setTimeout((()=>D("")),3e3);try{const e=await(async e=>{try{const t=await fetch(e),n=await t.blob(),o=e.substring(e.lastIndexOf("/")+1);return new File([n],o,{type:n.type})}catch(R){throw new Error("Invalid image URL")}})(t);U(e)?(D(`Duplicate file: ${e.name}`),setTimeout((()=>D("")),3e3)):(g((t=>[...t,e])),P(""))}catch(R){D("Unable to load image from URL. Please check the URL and try again."),setTimeout((()=>D("")),3e3)}}},U=e=>c.some((t=>t.name===e.name&&t.size===e.size)),T=e=>{const t=[],n=[];Array.from(e).forEach((e=>{U(e)?t.push(e.name):n.push(e)})),t.length>0&&(D(`Duplicate file(s) detected: ${t.join(", ")}`),setTimeout((()=>D("")),3e3)),n.length>0&&g((e=>[...e,...n]))},G=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?E(!0):"dragleave"===e.type&&E(!1)},N=e=>{g((t=>{const n=t.filter(((t,n)=>n!==e));return 0===(null===n||void 0===n?void 0:n.length)&&r(),[...n]})),setTimeout((()=>g((e=>[...e]))),0)};return(0,u.jsxs)(a.A,{sx:{maxWidth:"68rem",mx:"auto",p:0},children:[(0,u.jsx)(x.A,{sx:{pt:0,p:0},children:(0,u.jsxs)(h.A,{spacing:.8,children:[R&&(0,u.jsx)(w.A,{severity:"error",onClose:()=>D(""),children:R}),(0,u.jsxs)(b.A,{variant:"outlined",sx:{p:d?0:4,backgroundColor:"#F6F7F8",border:"1.5px dashed",borderColor:k?"primary.main":"grey.300",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",borderRadius:"20px",gap:.5},onDragEnter:G,onDragLeave:G,onDragOver:G,onDrop:e=>{e.preventDefault(),e.stopPropagation(),E(!1),T(e.dataTransfer.files)},children:[(0,u.jsx)(a.A,{sx:{p:0,bgcolor:"primary.50",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,u.jsx)(y.A,{sx:{fontSize:32,color:"primary.main"}})}),(0,u.jsxs)(a.A,{sx:{textAlign:"center",mb:1},children:[(0,u.jsxs)(i.A,{variant:d?"body1":"h6",children:["Drop or select file ",(0,u.jsxs)("label",{style:{cursor:"pointer",color:"blue",textDecoration:"underline"},children:["Browse",(0,u.jsx)("input",{type:"file",hidden:!0,multiple:!0,onChange:e=>{T(e.target.files),e.target.value=null}})]})]}),(0,u.jsxs)(i.A,{variant:d?"body2":"body",color:"text.secondary",children:["Limit 200 MB per file."," ","Supported Formats: JPG, JPEG, PNG."]})]})]}),(0,u.jsx)(i.A,{variant:"h6",sx:{padding:"0px",margin:0,marginTop:0,alignSelf:"center"},children:"or"}),(0,u.jsx)(b.A,{variant:"outlined",sx:{backgroundColor:"#F6F7F8",border:"1.5px dashed",borderColor:k?"primary.main":"grey.300",cursor:"pointer",display:"flex",borderRadius:"10px",flexDirection:"column",alignItems:"center",p:d?0:1,gap:.5},children:(0,u.jsx)(a.A,{sx:{textAlign:"center",width:"100%"},children:(0,u.jsx)(l.A,{size:"small",placeholder:"Paste image URL here",fullWidth:!0,variant:"standard",value:B,onChange:e=>P(e.target.value),onBlur:L,onKeyPress:e=>{"Enter"===e.key&&L(e)},InputProps:{disableUnderline:!0},sx:{paddingLeft:"10px","& .MuiInputBase-root":{borderBottom:"none"}}})})}),(null===c||void 0===c?void 0:c.length)>0&&(0,u.jsx)(a.A,{sx:{display:"flex",margin:0,p:0,alignItems:"center",justifyContent:"flex-end"},children:(0,u.jsxs)(a.A,{sx:{display:"flex",alignItems:"center",gap:.2},children:[(0,u.jsx)(i.A,{variant:"body2",children:"Preview Thumbnail"}),(0,u.jsx)(j.A,{size:"small",checked:p,onChange:e=>A(e.target.checked)})]})}),(null===c||void 0===c?void 0:c.length)>0&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(h.A,{sx:{height:"100px",overflow:"hidden"},children:(0,u.jsx)(a.A,{sx:{height:"100%",overflowY:"auto",p:1},children:p?(0,u.jsx)(h.A,{spacing:1,sx:{minHeight:"100%"},children:null===c||void 0===c?void 0:c.map(((e,t)=>(0,u.jsxs)(a.A,{sx:{display:"flex",alignItems:"center",gap:1,p:.5,bgcolor:"#f8f9fa",borderRadius:1},children:[(0,u.jsx)(a.A,{sx:{width:20,height:20,bgcolor:"#00A76F",borderRadius:.5,display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:(0,u.jsx)(m.A,{sx:{fontSize:12}})}),(0,u.jsxs)(a.A,{sx:{flexGrow:1,minWidth:0},children:[(0,u.jsx)(i.A,{variant:"caption",sx:{color:"#212B36",fontWeight:500,display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:null===e||void 0===e?void 0:e.name}),(0,u.jsxs)(i.A,{variant:"caption",sx:{color:"#637381",fontSize:"0.6rem"},children:[(e.size/1024/1024).toFixed(2)," Mb"]})]}),(0,u.jsx)(I.A,{size:"small",onClick:()=>N(t),sx:{color:"#637381","&:hover":{color:"#212B36"},padding:0},children:(0,u.jsx)(f.A,{sx:{fontSize:12}})})]},t)))}):(0,u.jsx)(v.Ay,{container:!0,spacing:1,sx:{minHeight:"100%"},children:null===c||void 0===c?void 0:c.map(((e,t)=>(0,u.jsx)(v.Ay,{item:!0,xs:4,sx:{marginBottom:1},children:(0,u.jsxs)(a.A,{sx:{position:"relative",width:"100%",paddingTop:"60px",borderRadius:1,overflow:"hidden"},children:[e.type.startsWith("image/")?(0,u.jsx)(a.A,{component:"img",src:URL.createObjectURL(e),alt:e.name,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}}):(0,u.jsx)(a.A,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",bgcolor:"#00A76F",display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:(0,u.jsx)(m.A,{sx:{fontSize:20}})}),(0,u.jsx)(I.A,{size:"small",onClick:()=>N(t),sx:{position:"absolute",top:2,right:2,color:"#fff",bgcolor:"rgba(0, 0, 0, 0.5)","&:hover":{bgcolor:"rgba(0, 0, 0, 0.7)"},padding:"2px"},children:(0,u.jsx)(f.A,{sx:{fontSize:12}})}),(0,u.jsx)(I.A,{size:"small",onClick:()=>(e=>{F(URL.createObjectURL(e))})(e),sx:{position:"absolute",bottom:2,right:2,color:"#fff",bgcolor:"rgba(0, 0, 0, 0.5)","&:hover":{bgcolor:"rgba(0, 0, 0, 0.7)"},padding:"2px"},children:(0,u.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEUSURBVHgBrZTBEYMgEEU3ySk3SsBOUoIlWIIdxBLsQEuwBDuwBO0gXnMy+4nrAWVE4M98Bx18fhZcor8U+83+sJdA492GrVemGYwRQNtgqQdfavaL0gmr/xKlTbuV5bYO/KIoRXme7573fU/TNO2eeydh6HKkoih2c+90QV3XUZZlxkh5pss1bJrGJB2GwZmYQqFt2y5aazMuyzIOjGRQXdfmXsDRiQGyIdhQPi3nYEzCZDspoBfLdrxcAUlNHcv1B1dVtYEFKjVNApajhN0PgLrBAkfygPq6a2zL3tAz75oQpzONBg1HhAaD33meZ/IVwOj8itJqQqN/UtpGD3W4IO1IYTt/ZLC0fAGDNvIDKGm1BqUfk0jgMbk94DwAAAAASUVORK5CYII=",alt:"Expand Logo",style:{width:"15px"}})})]})},t)))})})}),(0,u.jsx)(a.A,{sx:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end",mt:2},children:(0,u.jsx)(s.A,{variant:"outlined",color:"error",size:"small",sx:{color:"#637381",borderColor:"#637381","&:hover":{borderColor:"#212B36",color:"#212B36"}},onClick:()=>{r([]),g([])},children:"Clear All"})})]})]})}),(0,u.jsx)(S.A,{open:!!z,onClose:()=>{F(null)},maxWidth:!1,fullWidth:!0,PaperProps:{style:{backgroundColor:"transparent",boxShadow:"none",margin:0,width:"30%",maxWidth:"30%"}},BackdropProps:{style:{backgroundColor:"rgba(0, 0, 0, 0.8)"}},children:(0,u.jsx)(C.A,{className:"p-0 flex justify-center items-center",style:{padding:0,height:"100vh",width:"100%",maxWidth:"100%",maxHeight:"40vh",margin:0},children:(0,u.jsx)("img",{src:z,alt:"Enlarged view",className:"w-full h-full object-contain",style:{width:"90%",height:"90%"}})})})]})};var E=n(2806);const R=n.p+"static/media/upload-png.bb3cf2987e8de211cb45.png";n(2104);var D=n(6213),B=n(7762),P=n(96),z=n(5239),F=n.n(z),L=n(1105);const U=()=>{const[e,t]=(0,o.useState)(!1),n=[{name:"Claude-3.5-Sonnet",Id:"claude"},{name:"GPT-4o",Id:"openai"},{name:"Gemini-1.5-flash",Id:"gemini"}],[d,c]=(0,o.useState)(1),[h,g]=(0,o.useState)(!1),[x,p]=(0,o.useState)(n[0]),[m,f]=(0,o.useState)([]),[y,w]=(0,o.useState)(!1),[b,j]=(0,o.useState)(null),v=(0,o.useRef)(null),I=(0,o.useRef)(null);(0,o.useRef)(null),(0,o.useRef)(!1);console.log(b,h,"suruuu");const[S,C]=(0,o.useState)(!1),[z,U]=(0,o.useState)(!0);console.log("llllllll",z,m);const[T,G]=(0,o.useState)(!1);console.log(T,z,"buttonDisable");const N=async e=>{try{console.log(x,"selectedModel");const n=new FormData;e&&Array.isArray(e)&&e.forEach((e=>{n.append("images",e)})),n.append("model",null===x||void 0===x?void 0:x.Id),t(!0),G(!0);const o=await D.A.post("https://waytool.thankfulriver-bb957f46.koreacentral.azurecontainerapps.io/api/v1/analyze/stream",n,{headers:{"Content-Type":"multipart/form-data"}});j(o.data),t(!0)}catch(n){throw console.error("API request failed:",n.message),n}};async function O(e){return new Promise(((t,n)=>{const o=new Image;o.src=e,o.onload=()=>{const e=document.createElement("canvas");e.width=o.width,e.height=o.height;e.getContext("2d").drawImage(o,0,0),t(e.toDataURL("image/png"))},o.onerror=n}))}(0,o.useEffect)((()=>()=>{v.current&&v.current.disconnect(),I.current&&clearInterval(I.current)}),[]);async function Q(e){return new Promise(((t,n)=>{const o=new FileReader;o.onload=()=>t(o.result),o.onerror=n,o.readAsDataURL(e)}))}return(0,u.jsxs)(a.A,{sx:{height:"100vh",display:"flex",flexDirection:"column"},children:[(0,u.jsx)(a.A,{sx:{position:"fixed",top:0,left:0,right:0,height:"60px",zIndex:1e3,backgroundColor:"white",display:"flex",alignItems:"center",padding:"0 20px"},children:(0,u.jsx)("img",{src:E,alt:"Company Logo",style:{width:"150px"}})}),(0,u.jsxs)(a.A,{sx:{flexGrow:.5,marginTop:"60px",backgroundImage:`url(${R})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",display:"flex",justifyContent:"center",height:"calc(100vh - 60px)",overflow:"hidden"},children:[(0,u.jsxs)(a.A,{sx:{padding:1,width:h?"30%":"40%",height:"100%",display:"flex",flexDirection:"column"},children:[(0,u.jsxs)(a.A,{sx:{flexShrink:0},children:[(0,u.jsx)(i.A,{variant:"h6",sx:{fontWeight:400,fontFamily:"Roboto, sans-serif",fontSize:h?"25px":"30px",marginBottom:.3},children:"Way.com Visual Assessment Tool"}),(0,u.jsx)(r.A,{size:"small",disableClearable:!0,options:n,getOptionLabel:e=>e.name,value:x,onChange:(e,t)=>{p(t)},renderInput:e=>(0,u.jsx)(l.A,{...e,variant:"outlined",InputProps:{...e.InputProps,sx:{borderRadius:"30px",width:h?"53%":"40%",backgroundColor:"black",color:"white","& .MuiSvgIcon-root":{color:"white"}}}})})]}),(0,u.jsx)(a.A,{sx:{marginTop:S?1:3,flexGrow:1,height:0,minHeight:"100px"},children:(0,u.jsx)(k,{handleData:e=>{e&&(null===e||void 0===e?void 0:e.length)>0&&(U(!1),console.log("lllllllllllkkk",z,null===e||void 0===e?void 0:e.length),h||C(!0),console.log(h,S,"fullScreen")),console.log("lllllllllll",z,null===e||void 0===e?void 0:e.length),f(e)},load:h,singlePage:S,handleClear:e=>{console.log(e,"llllmmmmm"),f([]),U(!0)}})}),(0,u.jsx)(a.A,{sx:{flexShrink:0,padding:"10px",backgroundColor:"inherit",textAlign:"center"},children:(0,u.jsx)(s.A,{onClick:async()=>{g(!0),w(!0),c(h?d+1:0);try{await N(m)}catch(e){console.error("Error in handleFullScreen:",e)}},variant:"contained",color:"primary",disabled:z||T,startIcon:(0,u.jsx)(a.A,{component:"img",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAkCAYAAAD7PHgWAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPVSURBVHgBzVg/TBNhFH/ftY0RY6hJHS110DBRSmKiiREGS0yMMDlgopSgmyiEGEfa4EKQpAky+e+EwQEHMFEjmggEFjURWGziQCmbYTgGgbTlPt9rc71r7669cuXCL2nvenff6+/7fb/3vtcyIES4dzAsRy+dY92+k+CFQ8BuGpLTP5n4qpfFqhqI5ALP5uR17hBGP8i/quL3/Nu+yB3G9bF0v1V+wtnTQic4jK6L7jarz7rdLo6eY0UXFxMAyS2whYAP4Eqj8b1jHus+d5demFzicPclh1rgy2MGrY0M7EAovbBhUzkttnfANnQK9rUzkHa47eB+XOKOFnvqEXQEvXUAY7cEOCo4OkxM4DhBSsLRjzzojmSiENkNVHqezf+WuTbTqLzcwyy2W2aa/bgJ9LKcZRQMvuUwPldUIZIZEEIgMsksjs6DFGAhYb/MUDW4EQK4czk/eZpwCTlCwA3Z/ixA1CyObonNimu1IOVaNbFSW8X3FDBgDeXi6BTsxNLwd8J+DauvIyKqdVZTqnodIQaTy8pn1gzVECRQYO0sa4GFhHre0QLwHnsaKS9CgNo9Mx86lsWrm6qCQUygJn/hoxd9aKqiTkEy85NZXnHLux/O28EKqLQo8Yhcg49BZ4iaEoW0awjf5sEKQco0ClgJqylrBGnCw7NqvL5wfsxtzG66TsvMgLd5erLdmdfuN6XjdUsc9IMl1FvwKLVt4RG5oF6DTy075HGFbA6ciZ4INrLkRw10hZpAGSeVyWIKTl+mzVItKVKmNAaN+RFjueVVQPev4gTWUrowK6j5TFZ0xQwJHhS0nOcfyWA0IeoNg35mMCbffy4mjCLuDxiWmYNiqsS7TWfyJeVBOzNUmxBARb8iefI9vdY2QaO862FNy0zpkp46wXIEtncqrxA9R8/XF09EqukSk+8uDOkrAPn1XZ/xEtOkbo4b7/94JVZTBYnANBKhpdWCsjg8wou2OwWUJAbkJJxKDJMkyj6tyMlrwfIb9kFBnhrWFH1S8s+oqgndG55RyRGpOhDikmbbE76vcxEOCVTzKHuVfZ2IKptAroDPFCk3kEbFpJI9WRiaFeLiEqzAIYHM/7RL9Z7SxSxqlpUDX8iIrrjReDd1ET0ihD5PZCOtjUIE/zyqOf6lc4cgvrxU7ygxppZBQxDiZmNrk74W4IlkRfy6bjp/gT8FtH8OoHqmPBz80SQXbDS5XHSjrL0cIyiDkFTOta0c+m+j3DjHCHrAVVBqY0ubvfxoKLgnsiQeivo9NF4Su2mx3DjHkkQBJksED22onOSCbHxPPJ4s9/x/6SJJe6XRq24AAAAASUVORK5CYII=",alt:"Company Logo",sx:{width:"24px",height:"24px"}}),sx:{borderRadius:"50px",transition:"opacity 0.3s ease, transform 0.3s ease",opacity:z||T?.5:1,transform:z||T?"scale(0.95)":"scale(1)"},children:"Generate"})})]}),h&&(0,u.jsx)(a.A,{sx:{padding:.7,width:"65%",height:"100%",overflowY:"auto"},children:(0,u.jsx)(A,{data:b,load:e,refresh:d,hold:()=>{G(!1)},download:async()=>{try{const e=new B.Ay,t=e.internal.pageSize.height,n=e.internal.pageSize.width,o=10;let a=o;for(let i=0;i<m.length;i++){const r=m[i],l=r.type;if(l.startsWith("image/")){let i;i="image/svg+xml"===l?await O(await Q(r)):await Q(r);const s=new Image;await new Promise(((e,t)=>{s.onload=e,s.onerror=t,s.src=i}));const d=s.width/s.height,c=n-2*o,h=Math.min(s.width,c),g=h/d;a+g>t-o&&(e.addPage(),a=o),e.addImage(i,"JPEG",o,a,h,g),a+=g+o}else if("application/pdf"===l){const t=await r.arrayBuffer(),n=await L.PDFDocument.load(t);(await e.copyPages(n,n.getPageIndices())).forEach((t=>{e.addPage(t)}))}}if(b){const i=await(async e=>{const t=(0,P.xI)(e),n=document.createElement("div");n.innerHTML=t,n.style.position="absolute",n.style.left="-9999px",n.style.fontSize="18px",n.style.lineHeight="1.6",n.style.fontFamily="Arial, sans-serif",n.style.width="100%",document.body.appendChild(n);const o=await F()(n);return document.body.removeChild(n),o.toDataURL("image/png")})(b);a+t>t-o&&(e.addPage(),a=o),e.addImage(i,"PNG",o,a,n-2*o,0)}e.save("report_with_images_and_text.pdf")}catch(e){console.error("Error generating PDF:",e),alert("Error generating PDF. Please check your files and try again.")}}})})]})]})}}}]);
//# sourceMappingURL=833.795136ea.chunk.js.map