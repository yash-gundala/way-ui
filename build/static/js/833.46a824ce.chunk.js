"use strict";(self.webpackChunkspeechtranscription=self.webpackChunkspeechtranscription||[]).push([[833],{428:(e,t,n)=>{n.r(t),n.d(t,{default:()=>L});var o=n(5043),a=n(6446),i=n(5865),l=n(3947),r=n(9737),s=n(8494),d=n(9285),c=n(7642),h=n(2110),g=n(6494),x=n(1906),u=n(7121),p=n(579);const A=e=>{let{data:t,load:n,refresh:a,hold:i,download:l}=e;const[r,A]=(0,o.useState)(!0),[m,f]=(0,o.useState)(""),[y,w]=(0,o.useState)(!1),[b,j]=(0,o.useState)(0),v=(0,o.useRef)(null),S=(0,o.useRef)(null);(0,o.useEffect)((()=>{console.log(t,"malli",n,a)}),[n,t]),(0,o.useEffect)((()=>{console.log(a,"refresh"),0!==a&&(A(!0),f(null))}),[a]),(0,o.useEffect)((()=>{if(!t)return;w(!0),f(""),A(!1);let e=0;const n=()=>{if(e<t.length){f((n=>n+t[e])),j(e/t.length*100),e++;let o=10;const a=t[e-1];[".","!","?",":"].includes(a)?o=300:[",",";"].includes(a)?o=150:"\n"===a&&(o=200),setTimeout(n,o)}else w(!1),A(!1),i()};n()}),[t]),(0,o.useEffect)((()=>{S.current&&S.current.scrollIntoView({behavior:"smooth"})}),[m]);return r?(0,p.jsxs)(c.A,{sx:{width:600,mx:"auto",mt:4,mr:0,ml:2,spacing:5},children:[(0,p.jsx)(u.A,{width:300,height:30,color:"grey"}),(0,p.jsx)(u.A,{width:450,height:20,animation:"wave"}),(0,p.jsx)(u.A,{width:500,height:20,animation:!1}),(0,p.jsx)(u.A,{width:400,height:25,animation:"wave"}),(0,p.jsx)(u.A,{width:600,height:20,animation:!1}),(0,p.jsx)(u.A,{width:600,height:20,animation:"wave"})]}):(0,p.jsx)("div",{className:"flex flex-col items-center  max-w-4xl mx-auto",children:(0,p.jsxs)("div",{ref:v,className:"bg-white rounded-lg shadow-md border border-gray-200  min-h-[400px] max-h-[80vh] overflow-y-auto w-full",style:{textAlign:"left",fontFamily:"Arial, sans-serif"},children:[(0,p.jsxs)(h.A,{sx:{margin:"20px",marginTop:"40px",borderRadius:"20px",position:"relative",overflowY:"auto"},children:[(0,p.jsx)(g.A,{children:(0,p.jsx)(s.o,{children:m,remarkPlugins:[d.A],components:{}})}),!y&&(0,p.jsx)(g.A,{children:(0,p.jsx)(x.A,{sx:{textAlign:"right",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},variant:"contained",onClick:e=>{l()},children:"Download Report"})})]}),y&&(0,p.jsx)("span",{className:"inline-block w-2 h-4 ml-1 bg-blue-500 animate-pulse"}),(0,p.jsx)("div",{ref:S})]})})};var m=n(4327),f=n(4802),y=n(2954);var w=n(2664),b=n(3336),j=n(8903),v=n(7392),S=n(1485),I=n(1503);const C=e=>{let{handleData:t,load:n,handleClear:l,singlePage:s,handleFullScreen:d,buttonDisable:h,holdButton:u,fullScreen:A}=e;const[C,k]=(0,o.useState)([]),[E,R]=(0,o.useState)(!1),[B,D]=(0,o.useState)(!1),[F,z]=(0,o.useState)(""),[P,L]=(0,o.useState)(""),[U,T]=(0,o.useState)(null);console.log(s,"sizesizev"),(0,o.useEffect)((()=>{t(C)}),[C,t]);const N=async e=>{const t=e.target.value.trim();if(L(t),t)try{const e=await(async e=>{try{const t=await fetch(e),n=await t.blob(),o=e.substring(e.lastIndexOf("/")+1);return new File([n],o,{type:n.type})}catch(F){throw new Error("Invalid image URL")}})(t);G(e)?(z(`Duplicate file: ${e.name}`),setTimeout((()=>z("")),3e3)):(k((t=>[...t,e])),L(""))}catch(F){z("Unable to load image from URL. Please check the URL and try again."),setTimeout((()=>z("")),3e3)}},G=e=>C.some((t=>t.name===e.name&&t.size===e.size)),O=e=>{const t=[],n=[];Array.from(e).forEach((e=>{G(e)?t.push(e.name):n.push(e)})),t.length>0&&(z(`Duplicate file(s) detected: ${t.join(", ")}`),setTimeout((()=>z("")),3e3)),n.length>0&&k((e=>[...e,...n]))},Q=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?D(!0):"dragleave"===e.type&&D(!1)},W=e=>{k((t=>{const n=t.filter(((t,n)=>n!==e));return 0===(null===n||void 0===n?void 0:n.length)&&l(),[...n]})),setTimeout((()=>k((e=>[...e]))),0)};return(0,p.jsxs)(a.A,{sx:{maxWidth:"auto",mx:"auto",mt:s?2:6},children:[(0,p.jsx)(g.A,{sx:{pt:0,p:0},children:(0,p.jsxs)(c.A,{spacing:.8,children:[F&&(0,p.jsx)(w.A,{severity:"error",onClose:()=>z(""),children:F}),(0,p.jsxs)(b.A,{variant:"outlined",sx:{p:s?2:8,backgroundColor:"#F6F7F8",border:"1.5px dashed",borderColor:B?"primary.main":"grey.300",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",borderRadius:"20px",gap:.5},onDragEnter:Q,onDragLeave:Q,onDragOver:Q,onDrop:e=>{e.preventDefault(),e.stopPropagation(),D(!1),O(e.dataTransfer.files)},children:[(0,p.jsx)(a.A,{sx:{p:0,bgcolor:"primary.50",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,p.jsx)(y.A,{sx:{fontSize:32,color:"primary.main"}})}),(0,p.jsxs)(a.A,{sx:{textAlign:"center",mb:1},children:[(0,p.jsxs)(i.A,{variant:s?"body1":"h6",children:["Drop or select file ",(0,p.jsxs)("label",{style:{cursor:"pointer",color:"blue",textDecoration:"underline"},children:["Browse",(0,p.jsx)("input",{type:"file",hidden:!0,multiple:!0,onChange:e=>{O(e.target.files),e.target.value=null}})]})]}),(0,p.jsxs)(i.A,{variant:s?"body2":"body",color:"text.secondary",children:["Limit 200 MB per file."," ","Supported Formats: JPG, JPEG, PNG."]})]})]}),(0,p.jsx)(i.A,{variant:"h6",sx:{padding:"0px",margin:0,marginTop:0,alignSelf:"center"},children:"or"}),(0,p.jsx)(b.A,{variant:"outlined",sx:{backgroundColor:"#F6F7F8",border:"1.5px dashed",borderColor:B?"primary.main":"grey.300",cursor:"pointer",display:"flex",borderRadius:"10px",flexDirection:"column",alignItems:"center",p:s?1:1.5,gap:1},children:(0,p.jsx)(a.A,{sx:{textAlign:"center",width:"100%"},children:(0,p.jsx)(r.A,{size:"small",placeholder:"Paste image URL here",fullWidth:!0,variant:"standard",value:P,onChange:e=>L(e.target.value),onBlur:N,onKeyPress:e=>{"Enter"===e.key&&N(e)},InputProps:{disableUnderline:!0},sx:{paddingLeft:"10px","& .MuiInputBase-root":{borderBottom:"none"}}})})}),(null===C||void 0===C?void 0:C.length)>0&&(0,p.jsx)(a.A,{sx:{display:"flex",margin:0,p:0,alignItems:"center",justifyContent:"flex-end"},children:(0,p.jsx)(a.A,{sx:{display:"flex",alignItems:"center",gap:.2},children:(0,p.jsx)(x.A,{variant:"outlined",color:"error",size:"small",sx:{color:"#637381",borderColor:"#637381","&:hover":{borderColor:"#212B36",color:"#212B36"}},onClick:()=>{l([]),k([])},children:"Clear All"})})}),(null===C||void 0===C?void 0:C.length)>0&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(c.A,{sx:{height:"160px"},children:(0,p.jsx)(a.A,{sx:{height:"100%",overflowY:"auto",p:1},children:E?(0,p.jsx)(c.A,{spacing:1,sx:{minHeight:"100%"},children:null===C||void 0===C?void 0:C.map(((e,t)=>(0,p.jsxs)(a.A,{sx:{display:"flex",alignItems:"center",gap:1,p:.5,bgcolor:"#f8f9fa",borderRadius:1},children:[(0,p.jsx)(a.A,{sx:{width:20,height:20,bgcolor:"#00A76F",borderRadius:.5,display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:(0,p.jsx)(m.A,{sx:{fontSize:12}})}),(0,p.jsxs)(a.A,{sx:{flexGrow:1,minWidth:0},children:[(0,p.jsx)(i.A,{variant:"caption",sx:{color:"#212B36",fontWeight:500,display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:null===e||void 0===e?void 0:e.name}),(0,p.jsx)(i.A,{variant:"caption",sx:{color:"#637381",fontSize:"0.6rem"},children:e.size<1048576?`${(e.size/1024).toFixed(2)} KB`:`${(e.size/1024/1024).toFixed(2)} MB`})]}),(0,p.jsx)(v.A,{size:"small",onClick:()=>W(t),sx:{color:"#637381","&:hover":{color:"#212B36"},padding:0},children:(0,p.jsx)(f.A,{sx:{fontSize:12}})})]},t)))}):(0,p.jsx)(j.Ay,{container:!0,spacing:1,sx:{minHeight:"100%",display:"flex",justifyContent:A?"center":"flex-start",alignItems:"center"},children:null===C||void 0===C?void 0:C.map(((e,t)=>(0,p.jsx)(j.Ay,{item:!0,xs:A?5:4,sx:{marginBottom:1,display:"flex",justifyContent:A?"center":"flex-start",alignItems:"center"},children:(0,p.jsxs)(a.A,{sx:{position:"relative",width:"100%",paddingTop:"70%",borderRadius:1,overflow:"hidden"},children:[e.type.startsWith("image/")?(0,p.jsx)(a.A,{component:"img",src:URL.createObjectURL(e),alt:e.name,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}}):(0,p.jsx)(a.A,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",bgcolor:"#00A76F",display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:(0,p.jsx)(m.A,{sx:{fontSize:20}})}),(0,p.jsx)(v.A,{size:"small",onClick:()=>W(t),sx:{position:"absolute",top:2,right:2,color:"#fff",bgcolor:"rgba(0, 0, 0, 0.5)","&:hover":{bgcolor:"rgba(0, 0, 0, 0.7)"},padding:"2px"},children:(0,p.jsx)(f.A,{sx:{fontSize:12}})}),(0,p.jsx)(v.A,{size:"small",onClick:()=>(e=>{T(URL.createObjectURL(e))})(e),sx:{position:"absolute",bottom:2,right:2,color:"#fff",bgcolor:"rgba(0, 0, 0, 0.5)","&:hover":{bgcolor:"rgba(0, 0, 0, 0.7)"},padding:"2px"},children:(0,p.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEUSURBVHgBrZTBEYMgEEU3ySk3SsBOUoIlWIIdxBLsQEuwBDuwBO0gXnMy+4nrAWVE4M98Bx18fhZcor8U+83+sJdA492GrVemGYwRQNtgqQdfavaL0gmr/xKlTbuV5bYO/KIoRXme7573fU/TNO2eeydh6HKkoih2c+90QV3XUZZlxkh5pss1bJrGJB2GwZmYQqFt2y5aazMuyzIOjGRQXdfmXsDRiQGyIdhQPi3nYEzCZDspoBfLdrxcAUlNHcv1B1dVtYEFKjVNApajhN0PgLrBAkfygPq6a2zL3tAz75oQpzONBg1HhAaD33meZ/IVwOj8itJqQqN/UtpGD3W4IO1IYTt/ZLC0fAGDNvIDKGm1BqUfk0jgMbk94DwAAAAASUVORK5CYII=",alt:"Expand Logo",style:{width:"15px"}})})]})},t)))})})}),(0,p.jsx)(a.A,{sx:{justifyContent:"center",display:"flex",alignItems:"center",padding:"0 20px"},children:(0,p.jsx)(x.A,{onClick:d,variant:"contained",color:"primary",disabled:h||u,startIcon:(0,p.jsx)(a.A,{component:"img",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAkCAYAAAD7PHgWAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPVSURBVHgBzVg/TBNhFH/ftY0RY6hJHS110DBRSmKiiREGS0yMMDlgopSgmyiEGEfa4EKQpAky+e+EwQEHMFEjmggEFjURWGziQCmbYTgGgbTlPt9rc71r7669cuXCL2nvenff6+/7fb/3vtcyIES4dzAsRy+dY92+k+CFQ8BuGpLTP5n4qpfFqhqI5ALP5uR17hBGP8i/quL3/Nu+yB3G9bF0v1V+wtnTQic4jK6L7jarz7rdLo6eY0UXFxMAyS2whYAP4Eqj8b1jHus+d5demFzicPclh1rgy2MGrY0M7EAovbBhUzkttnfANnQK9rUzkHa47eB+XOKOFnvqEXQEvXUAY7cEOCo4OkxM4DhBSsLRjzzojmSiENkNVHqezf+WuTbTqLzcwyy2W2aa/bgJ9LKcZRQMvuUwPldUIZIZEEIgMsksjs6DFGAhYb/MUDW4EQK4czk/eZpwCTlCwA3Z/ixA1CyObonNimu1IOVaNbFSW8X3FDBgDeXi6BTsxNLwd8J+DauvIyKqdVZTqnodIQaTy8pn1gzVECRQYO0sa4GFhHre0QLwHnsaKS9CgNo9Mx86lsWrm6qCQUygJn/hoxd9aKqiTkEy85NZXnHLux/O28EKqLQo8Yhcg49BZ4iaEoW0awjf5sEKQco0ClgJqylrBGnCw7NqvL5wfsxtzG66TsvMgLd5erLdmdfuN6XjdUsc9IMl1FvwKLVt4RG5oF6DTy075HGFbA6ciZ4INrLkRw10hZpAGSeVyWIKTl+mzVItKVKmNAaN+RFjueVVQPev4gTWUrowK6j5TFZ0xQwJHhS0nOcfyWA0IeoNg35mMCbffy4mjCLuDxiWmYNiqsS7TWfyJeVBOzNUmxBARb8iefI9vdY2QaO862FNy0zpkp46wXIEtncqrxA9R8/XF09EqukSk+8uDOkrAPn1XZ/xEtOkbo4b7/94JVZTBYnANBKhpdWCsjg8wou2OwWUJAbkJJxKDJMkyj6tyMlrwfIb9kFBnhrWFH1S8s+oqgndG55RyRGpOhDikmbbE76vcxEOCVTzKHuVfZ2IKptAroDPFCk3kEbFpJI9WRiaFeLiEqzAIYHM/7RL9Z7SxSxqlpUDX8iIrrjReDd1ET0ihD5PZCOtjUIE/zyqOf6lc4cgvrxU7ygxppZBQxDiZmNrk74W4IlkRfy6bjp/gT8FtH8OoHqmPBz80SQXbDS5XHSjrL0cIyiDkFTOta0c+m+j3DjHCHrAVVBqY0ubvfxoKLgnsiQeivo9NF4Su2mx3DjHkkQBJksED22onOSCbHxPPJ4s9/x/6SJJe6XRq24AAAAASUVORK5CYII=",alt:"Company Logo",sx:{width:"24px",height:"24px"}}),sx:{borderRadius:"50px",transition:"opacity 0.3s ease, transform 0.3s ease"},children:"Generate"})})]})]})}),(0,p.jsx)(S.A,{open:!!U,onClose:()=>{T(null)},maxWidth:!1,fullWidth:!0,PaperProps:{style:{backgroundColor:"transparent",boxShadow:"none",margin:0,width:"30%",maxWidth:"30%"}},BackdropProps:{style:{backgroundColor:"rgba(0, 0, 0, 0.8)"}},children:(0,p.jsx)(I.A,{className:"p-0 flex justify-center items-center",style:{padding:0,height:"100vh",width:"100%",maxWidth:"100%",maxHeight:"40vh",margin:0},children:(0,p.jsx)("img",{src:U,alt:"Enlarged view",className:"w-full h-full object-contain",style:{width:"90%",height:"90%"}})})})]})};var k=n(2806);const E=n.p+"static/media/upload-png.bb3cf2987e8de211cb45.png";n(2104);var R=n(6213),B=n(7762),D=n(96),F=n(5239),z=n.n(F),P=n(1105);const L=()=>{const[e,t]=(0,o.useState)(!1),n=[{name:"Claude-3.5-Sonnet",Id:"claude"},{name:"GPT-4o",Id:"openai"},{name:"Gemini-1.5-flash",Id:"gemini"}],[s,d]=(0,o.useState)(1),[c,h]=(0,o.useState)(!1),[g,x]=(0,o.useState)(n[0]),[u,m]=(0,o.useState)([]),[f,y]=(0,o.useState)(!1),[w,b]=(0,o.useState)(null),j=(0,o.useRef)(null),v=(0,o.useRef)(null);(0,o.useRef)(null),(0,o.useRef)(!1);console.log(w,c,"suruuu");const[S,I]=(0,o.useState)(!1),[F,L]=(0,o.useState)(!0);console.log("llllllll",F,u);const[U,T]=(0,o.useState)(!1);console.log(U,F,"buttonDisable");const N=async e=>{try{console.log(g,"selectedModel");const n=new FormData;e&&Array.isArray(e)&&e.forEach((e=>{n.append("images",e)})),n.append("model",null===g||void 0===g?void 0:g.Id),t(!0),T(!0);const o=await R.A.post("https://waytool.thankfulriver-bb957f46.koreacentral.azurecontainerapps.io/api/v1/analyze/stream",n,{headers:{"Content-Type":"multipart/form-data"}});b(o.data),t(!0)}catch(n){throw console.error("API request failed:",n.message),n}};async function G(e){return new Promise(((t,n)=>{const o=new Image;o.src=e,o.onload=()=>{const e=document.createElement("canvas");e.width=o.width,e.height=o.height;e.getContext("2d").drawImage(o,0,0),t(e.toDataURL("image/png"))},o.onerror=n}))}(0,o.useEffect)((()=>()=>{j.current&&j.current.disconnect(),v.current&&clearInterval(v.current)}),[]);async function O(e){return new Promise(((t,n)=>{const o=new FileReader;o.onload=()=>t(o.result),o.onerror=n,o.readAsDataURL(e)}))}return(0,p.jsxs)(a.A,{sx:{height:"100vh",display:"flex",flexDirection:"column"},children:[(0,p.jsx)(a.A,{sx:{height:"60px",zIndex:1e3,display:"flex",alignItems:"center",padding:"0 20px"},children:(0,p.jsx)("img",{src:k,alt:"Company Logo",style:{width:"150px"}})}),(0,p.jsxs)(a.A,{sx:{flexGrow:.5,p:2,backgroundImage:`url(${E})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",display:"flex",justifyContent:"center",height:"calc(100vh - 60px)",overflow:"hidden"},children:[(0,p.jsxs)(a.A,{sx:{padding:1,width:c?"30%":"40%",height:"100%",display:"flex",flexDirection:"column"},children:[(0,p.jsxs)(a.A,{sx:{flexShrink:0},children:[(0,p.jsx)(i.A,{variant:"h6",sx:{fontWeight:400,fontFamily:"Roboto, sans-serif",fontSize:c?"25px":"30px",marginBottom:1},children:"Way.com Visual Assessment Tool"}),(0,p.jsx)(l.A,{size:"small",disableClearable:!0,options:n,getOptionLabel:e=>e.name,value:g,onChange:(e,t)=>{x(t)},renderInput:e=>(0,p.jsx)(r.A,{...e,variant:"outlined",InputProps:{...e.InputProps,sx:{borderRadius:"30px",width:c?"53%":"40%",marginTop:2,backgroundColor:"black",color:"white","& .MuiSvgIcon-root":{color:"white"}}}})})]}),(0,p.jsx)(a.A,{sx:{marginTop:S?1:3,flexGrow:1,height:0,minHeight:"100px"},children:(0,p.jsx)(C,{handleData:e=>{e&&(null===e||void 0===e?void 0:e.length)>0&&(L(!1),console.log("lllllllllllkkk",F,null===e||void 0===e?void 0:e.length),c||I(!0),console.log(c,S,"fullScreen")),console.log("lllllllllll",F,null===e||void 0===e?void 0:e.length),m(e)},load:c,singlePage:S,handleClear:e=>{console.log(e,"llllmmmmm"),m([]),L(!0)},handleFullScreen:async()=>{h(!0),y(!0),d(c?s+1:0);try{await N(u)}catch(e){console.error("Error in handleFullScreen:",e)}},buttonDisable:F,holdButton:U,fullScreen:c})}),(0,p.jsx)(a.A,{sx:{flexShrink:0,backgroundColor:"inherit",textAlign:"center"}})]}),c&&(0,p.jsx)(a.A,{sx:{padding:.7,width:"65%",height:"100%",overflowY:"auto"},children:(0,p.jsx)(A,{style:{borderWidth:"2px solid #ccc"},data:w,load:e,refresh:s,hold:()=>{T(!1)},download:async()=>{try{const e=new B.Ay,t=e.internal.pageSize.height,n=e.internal.pageSize.width,o=10;let a=o;for(let i=0;i<u.length;i++){const l=u[i],r=l.type;if(r.startsWith("image/")){let i;i="image/svg+xml"===r?await G(await O(l)):await O(l);const s=new Image;await new Promise(((e,t)=>{s.onload=e,s.onerror=t,s.src=i}));const d=s.width/s.height,c=n-2*o,h=Math.min(s.width,c),g=h/d;a+g>t-o&&(e.addPage(),a=o),e.addImage(i,"JPEG",o,a,h,g),a+=g+o}else if("application/pdf"===r){const t=await l.arrayBuffer(),n=await P.PDFDocument.load(t);(await e.copyPages(n,n.getPageIndices())).forEach((t=>{e.addPage(t)}))}}if(w){const i=await(async e=>{const t=(0,D.xI)(e),n=document.createElement("div");n.innerHTML=t,n.style.position="absolute",n.style.left="-9999px",n.style.fontSize="23px",n.style.lineHeight="1.6",n.style.fontFamily="Arial, sans-serif",n.style.width="100%",document.body.appendChild(n);const o=await z()(n);return document.body.removeChild(n),o.toDataURL("image/png")})(w);a+t>t-o&&(e.addPage(),a=o),e.addImage(i,"PNG",o,a,n-2*o,0)}e.save(`Visual_assessment_report_with_${null===g||void 0===g?void 0:g.name}.pdf`)}catch(e){console.error("Error generating PDF:",e),alert("Error generating PDF. Please check your files and try again.")}}})})]})]})}}}]);
//# sourceMappingURL=833.46a824ce.chunk.js.map